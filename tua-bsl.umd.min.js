!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).bodyScrollLock={})}(this,function(e){"use strict";function r(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(e){var t,o,n;t=i,n=r[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n})}return i}var o,n=0,l=0,i=null,c=!1,s="undefined"==typeof window,d=[],u=!s&&document.querySelector.bind(document);if(!s){var t="__TUA_BSL_TEST_PASSIVE__",f={get passive(){o={passive:!1}}};window.addEventListener(t,null,f),window.removeEventListener(t,null,f)}function a(){var e=navigator.userAgent,t=/(iPad).*OS\s([\d_]+)/.test(e),o=!t&&/(iPhone\sOS)\s([\d_]+)/.test(e),n=/(Android);?[\s/]+([\d.]+)?/.test(e);return{os:n?"android":"ios",ios:o||t,ipad:t,iphone:o,android:n}}function h(e){e.cancelable&&e.preventDefault()}e.lock=function(t){s||(a().ios?(t&&-1===d.indexOf(t)&&(t.ontouchstart=function(e){l=e.targetTouches[0].clientY},t.ontouchmove=function(e){1===e.targetTouches.length&&function(e,t){var o=e.targetTouches[0].clientY-l;if(t){var n=t.scrollTop,i=t.scrollHeight,r=t.clientHeight;if(0<o&&0===n||o<0&&i<=n+r+1)return h(e)}e.stopPropagation()}(e,t)},d.push(t)),c||(document.addEventListener("touchmove",h,o),c=!0)):n<=0&&(i=a().android?function(){var e=u("html"),t=u("body"),o=e.scrollTop||t.scrollTop,n=r({},e.style),i=r({},t.style);return e.style.height="100%",e.style.overflow="hidden",t.style.top="-".concat(o,"px"),t.style.width="100%",t.style.position="fixed",t.style.overflow="hidden",function(){e.style.height=n.height||"",e.style.overflow=n.overflow||"",["top","width","height","overflow","position"].forEach(function(e){t.style[e]=i[e]||""}),window.scrollTo(0,o)}}():function(){var t=u("body"),o=r({},t.style),e=window.innerWidth-document.body.clientWidth;return t.style.overflow="hidden",t.style.boxSizing="border-box",t.style.paddingRight="".concat(e,"px"),function(){["overflow","boxSizing","paddingRight"].forEach(function(e){t.style[e]=o[e]||""})}}()),n+=1)},e.unlock=function(e){if(!(s||0<(n-=1)))if(a().ios){var t=d.indexOf(e);-1!==t&&(e.ontouchmove=null,e.ontouchstart=null,d.splice(t,1)),c&&(document.removeEventListener("touchmove",h,o),c=!1)}else n<=0&&"function"==typeof i&&i()},Object.defineProperty(e,"__esModule",{value:!0})});
