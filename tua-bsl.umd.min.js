!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).bodyScrollLock={})}(this,function(e){"use strict";function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}var o,n=0,l=0,c=null,s=!1,u="undefined"==typeof window,d=[],f=!u&&document.querySelector.bind(document);if(!u){var t="__TUA_BSL_TEST_PASSIVE__",a={get passive(){o={passive:!1}}};window.addEventListener(t,null,a),window.removeEventListener(t,null,a)}var h=function(){var e=navigator.userAgent,t=/(iPad).*OS\s([\d_]+)/.test(e),o=!t&&/(iPhone\sOS)\s([\d_]+)/.test(e),n=/(Android);?[\s/]+([\d.]+)?/.test(e);return{os:n?"android":"ios",ios:o||t,ipad:t,iphone:o,android:n}},p=function(e){e.cancelable&&e.preventDefault()};e.lock=function(t){u||(h().ios?(t&&-1===d.indexOf(t)&&(t.ontouchstart=function(e){l=e.targetTouches[0].clientY},t.ontouchmove=function(e){1===e.targetTouches.length&&function(e,t){var o=e.targetTouches[0].clientY-l;if(t){var n=t.scrollTop,i=t.scrollHeight,r=t.clientHeight;if(0<o&&0===n||o<0&&i<=n+r+1)return p(e)}e.stopPropagation()}(e,t)},d.push(t)),s||(document.addEventListener("touchmove",p,o),s=!0)):n<=0&&(c=h().android?function(){var e=f("html"),t=f("body"),o=e.scrollTop||t.scrollTop,n=r({},e.style),i=r({},t.style);return e.style.height="100%",e.style.overflow="hidden",t.style.top="-".concat(o,"px"),t.style.width="100%",t.style.position="fixed",t.style.overflow="hidden",function(){e.style.height=n.height||"",e.style.overflow=n.overflow||"",["top","width","height","overflow","position"].forEach(function(e){t.style[e]=i[e]||""}),window.scrollTo(0,o)}}():function(){var t=f("body"),o=r({},t.style),e=window.innerWidth-document.body.clientWidth;return t.style.overflow="hidden",t.style.boxSizing="border-box",t.style.paddingRight="".concat(e,"px"),function(){["overflow","boxSizing","paddingRight"].forEach(function(e){t.style[e]=o[e]||""})}}()),n+=1)},e.unlock=function(e){if(!(u||0<(n-=1)))if(h().ios){var t=d.indexOf(e);-1!==t&&(e.ontouchmove=null,e.ontouchstart=null,d.splice(t,1)),s&&(document.removeEventListener("touchmove",p,o),s=!1)}else n<=0&&"function"==typeof c&&c()},Object.defineProperty(e,"__esModule",{value:!0})});
